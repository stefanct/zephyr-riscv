<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IrqTestPeripheral: /home/timo/Software/zephyr-riscv_dev/apps/irqperipheral_test/src/state_manager.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IrqTestPeripheral
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">state_manager.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="state__manager_8h_source.html">state_manager.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="irqtestperipheral_8h_source.html">irqtestperipheral.h</a>&quot;</code><br />
<code>#include &lt;logging/sys_log.h&gt;</code><br />
<code>#include &quot;<a class="el" href="log__perf_8h_source.html">log_perf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="states_8h_source.html">states.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="cycles_8h_source.html">cycles.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="globals_8h_source.html">globals.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for state_manager.c:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c__incl.png" border="0" usemap="#_2home_2timo_2_software_2zephyr-riscv__dev_2apps_2irqperipheral__test_2src_2state__manager_8c" alt=""/></div>
<map name="_2home_2timo_2_software_2zephyr-riscv__dev_2apps_2irqperipheral__test_2src_2state__manager_8c" id="_2home_2timo_2_software_2zephyr-riscv__dev_2apps_2irqperipheral__test_2src_2state__manager_8c">
<area shape="rect" id="node2" href="state__manager_8h.html" title="Logic for running a state machine. " alt="" coords="119,124,238,151"/>
<area shape="rect" id="node4" href="states_8h.html" title="define state machine &#39;state&#39; struct and configure to state_manager " alt="" coords="219,199,288,225"/>
<area shape="rect" id="node6" href="irqtestperipheral_8h.html" title="low&#45;level driver functions to interact with hardware " alt="" coords="168,273,293,300"/>
<area shape="rect" id="node8" href="log__perf_8h.html" title="Implements a performance logging method which prints to a fifo string buffer instead of uart..." alt="" coords="562,124,641,151"/>
<area shape="rect" id="node10" href="utils_8h.html" title="Useful print functions. " alt="" coords="313,199,370,225"/>
<area shape="rect" id="node11" href="cycles_8h.html" title="Deal with riscv32 hardware cpu cycles. " alt="" coords="394,199,465,225"/>
<area shape="rect" id="node12" href="globals_8h.html" title="Global shared variables, mainly devices handles. " alt="" coords="5,273,80,300"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_s_m_event.html">SMEvent</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls switching of state_manager states.  <a href="struct_s_m_event.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ac5b2cb2d6ae6b5526953a00f765a23e4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac5b2cb2d6ae6b5526953a00f765a23e4">SYS_LOG_DOMAIN</a>&#160;&#160;&#160;&quot;StateManager&quot;</td></tr>
<tr class="separator:ac5b2cb2d6ae6b5526953a00f765a23e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e98264d6527b989d179c54a96034c88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a7e98264d6527b989d179c54a96034c88">SYS_LOG_LEVEL</a>&#160;&#160;&#160;SYS_LOG_LEVEL_DEBUG</td></tr>
<tr class="separator:a7e98264d6527b989d179c54a96034c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78bde9177c2751d8bff732c620d8fe12"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a78bde9177c2751d8bff732c620d8fe12">STATE_MNG_QUEUE_RX_DEPTH</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a78bde9177c2751d8bff732c620d8fe12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>&#160;&#160;&#160;CONFIG_APP_SM_LOG_DEPTH</td></tr>
<tr class="separator:aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac85ffac15e6947e9fb5acf752fba7207"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac85ffac15e6947e9fb5acf752fba7207">LEN_ARRAY</a>(x)&#160;&#160;&#160;((sizeof(x)/sizeof(0[x])) / ((size_t)(!(sizeof(x) % sizeof(0[x])))))</td></tr>
<tr class="separator:ac85ffac15e6947e9fb5acf752fba7207"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a06fc87d81c62e9abb8790b6e5713c55b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="state__manager_8c.html#a06fc87d81c62e9abb8790b6e5713c55bacc328a04c39d3c20bc288f87c12cb7a1">ABORT_LOOP</a>, 
<a class="el" href="state__manager_8c.html#a06fc87d81c62e9abb8790b6e5713c55baa5639ff4eff3f959406116db9e020c44">THREAD_RUNNING</a>, 
<a class="el" href="state__manager_8c.html#a06fc87d81c62e9abb8790b6e5713c55baae8f7fe4c447de6809ddfcbf2b9254ac">THREAD_START</a>, 
<a class="el" href="state__manager_8c.html#a06fc87d81c62e9abb8790b6e5713c55ba8fc1dda1189452b89c9ca7e63fbb06cf">_NUM_FLAGS</a>
 }</td></tr>
<tr class="separator:a06fc87d81c62e9abb8790b6e5713c55b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a265aa2f1ca809961d9c4376b5f129fd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a265aa2f1ca809961d9c4376b5f129fd1">K_MSGQ_DEFINE</a> (queue_rx_driver, sizeof(struct <a class="el" href="struct_drv_event.html">DrvEvent</a>), <a class="el" href="state__manager_8c.html#a78bde9177c2751d8bff732c620d8fe12">STATE_MNG_QUEUE_RX_DEPTH</a>, 4)</td></tr>
<tr class="separator:a265aa2f1ca809961d9c4376b5f129fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9fdd2cfc6f7910283ab2fb0ecbcc80"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ace9fdd2cfc6f7910283ab2fb0ecbcc80">_default_action_dispatcher</a> (<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> state)</td></tr>
<tr class="memdesc:ace9fdd2cfc6f7910283ab2fb0ecbcc80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fires all callbacks stored in internal array.  <a href="#ace9fdd2cfc6f7910283ab2fb0ecbcc80">More...</a><br /></td></tr>
<tr class="separator:ace9fdd2cfc6f7910283ab2fb0ecbcc80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0124042835015818d50d9130c2db76"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a6c0124042835015818d50d9130c2db76">is_val_in_array</a> (<a class="el" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a> val, <a class="el" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a> *arr, int len)</td></tr>
<tr class="memdesc:a6c0124042835015818d50d9130c2db76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search whether val_id is in array.  <a href="#a6c0124042835015818d50d9130c2db76">More...</a><br /></td></tr>
<tr class="separator:a6c0124042835015818d50d9130c2db76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8a4f2ce282ae1c2036d80b2b331195"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a5c8a4f2ce282ae1c2036d80b2b331195">is_state_in_array</a> (<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> state_id, <a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> *arr, int len)</td></tr>
<tr class="memdesc:a5c8a4f2ce282ae1c2036d80b2b331195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search whether cycle_state_id is in array.  <a href="#a5c8a4f2ce282ae1c2036d80b2b331195">More...</a><br /></td></tr>
<tr class="separator:a5c8a4f2ce282ae1c2036d80b2b331195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac147348fdfd1b971d35c92dc5fae1818"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac147348fdfd1b971d35c92dc5fae1818">mes_perf</a> (struct <a class="el" href="struct_state.html">State</a> *state, int mode)</td></tr>
<tr class="memdesc:ac147348fdfd1b971d35c92dc5fae1818"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure duration of actions, after waiting in state is done.  <a href="#ac147348fdfd1b971d35c92dc5fae1818">More...</a><br /></td></tr>
<tr class="separator:ac147348fdfd1b971d35c92dc5fae1818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5652a05c3eb6723ac1867d712baec64d"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_state.html">State</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a5652a05c3eb6723ac1867d712baec64d">switch_state</a> (struct <a class="el" href="struct_state.html">State</a> *current, struct <a class="el" href="struct_s_m_event.html">SMEvent</a> *evt)</td></tr>
<tr class="separator:a5652a05c3eb6723ac1867d712baec64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a783990c9c8f1bf1514a46e9f3acd01e2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a783990c9c8f1bf1514a46e9f3acd01e2">gather_events</a> (struct <a class="el" href="struct_s_m_event.html">SMEvent</a> *res_evt)</td></tr>
<tr class="memdesc:a783990c9c8f1bf1514a46e9f3acd01e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read all events in driver queue and get the one of highest priority.  <a href="#a783990c9c8f1bf1514a46e9f3acd01e2">More...</a><br /></td></tr>
<tr class="separator:a783990c9c8f1bf1514a46e9f3acd01e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac044c2e9da68e54b823e44ce65380ab2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac044c2e9da68e54b823e44ce65380ab2">check_time_goal_start</a> (struct <a class="el" href="struct_state.html">State</a> *state, int *t_left)</td></tr>
<tr class="separator:ac044c2e9da68e54b823e44ce65380ab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ec4af8d84ec8af6d062f60f7df11a6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a01ec4af8d84ec8af6d062f60f7df11a6">check_time_goal_end</a> (struct <a class="el" href="struct_state.html">State</a> *state, int *t_left)</td></tr>
<tr class="separator:a01ec4af8d84ec8af6d062f60f7df11a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3630c54ea4155b6d9038074a2c89750"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ad3630c54ea4155b6d9038074a2c89750">handle_time_goal_start</a> (struct <a class="el" href="struct_state.html">State</a> *state, int t_left)</td></tr>
<tr class="separator:ad3630c54ea4155b6d9038074a2c89750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ffbaf4a4a7a06501ade6b44ee7a0d3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a93ffbaf4a4a7a06501ade6b44ee7a0d3">handle_time_goal_end</a> (struct <a class="el" href="struct_state.html">State</a> *state, int t_left)</td></tr>
<tr class="separator:a93ffbaf4a4a7a06501ade6b44ee7a0d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f0374dc26dbbc411fa368c513964d46"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a0f0374dc26dbbc411fa368c513964d46">handle_vals_ready</a> (struct <a class="el" href="struct_state.html">State</a> *state)</td></tr>
<tr class="memdesc:a0f0374dc26dbbc411fa368c513964d46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle if not all vals rady.  <a href="#a0f0374dc26dbbc411fa368c513964d46">More...</a><br /></td></tr>
<tr class="separator:a0f0374dc26dbbc411fa368c513964d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a219369c437a02377c0728e698a231dac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a219369c437a02377c0728e698a231dac">state_mng_check_vals_ready</a> (struct <a class="el" href="struct_state.html">State</a> *state)</td></tr>
<tr class="separator:a219369c437a02377c0728e698a231dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6938ef1c817b368bcee3fc953dba0f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#aab6938ef1c817b368bcee3fc953dba0f">state_mng_purge_evt_log</a> ()</td></tr>
<tr class="memdesc:aab6938ef1c817b368bcee3fc953dba0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty event log.  <a href="#aab6938ef1c817b368bcee3fc953dba0f">More...</a><br /></td></tr>
<tr class="separator:aab6938ef1c817b368bcee3fc953dba0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf434b7fdff6d2b471af6385d8572dd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#aaf434b7fdff6d2b471af6385d8572dd4">state_mng_configure</a> (struct <a class="el" href="struct_state.html">State</a> cust_states[], <a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> *cust_tt, int len_states, int len_events)</td></tr>
<tr class="memdesc:aaf434b7fdff6d2b471af6385d8572dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Either use default config of states and transition table or set custom one.  <a href="#aaf434b7fdff6d2b471af6385d8572dd4">More...</a><br /></td></tr>
<tr class="separator:aaf434b7fdff6d2b471af6385d8572dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744449dc98e12eb620477cb63fd52b28"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a744449dc98e12eb620477cb63fd52b28">state_mng_print_state_config</a> ()</td></tr>
<tr class="memdesc:a744449dc98e12eb620477cb63fd52b28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print info for all states configured to state_manager.  <a href="#a744449dc98e12eb620477cb63fd52b28">More...</a><br /></td></tr>
<tr class="separator:a744449dc98e12eb620477cb63fd52b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d289bc2158c8795288230cebd7fe9a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a9d289bc2158c8795288230cebd7fe9a0">state_mng_print_transition_table_config</a> ()</td></tr>
<tr class="memdesc:a9d289bc2158c8795288230cebd7fe9a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print transition table as configured to state_manager.  <a href="#a9d289bc2158c8795288230cebd7fe9a0">More...</a><br /></td></tr>
<tr class="separator:a9d289bc2158c8795288230cebd7fe9a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cde1fa185470108d73b735b4125b92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ad3cde1fa185470108d73b735b4125b92">state_mng_init</a> (struct device *dev)</td></tr>
<tr class="memdesc:ad3cde1fa185470108d73b735b4125b92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize. Mainly set up irqt driver.  <a href="#ad3cde1fa185470108d73b735b4125b92">More...</a><br /></td></tr>
<tr class="separator:ad3cde1fa185470108d73b735b4125b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6579e86bc3f3de2539796108bfc9a1be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be">state_mng_is_running</a> ()</td></tr>
<tr class="memdesc:a6579e86bc3f3de2539796108bfc9a1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-safe getter whether state machine thread is running.  <a href="#a6579e86bc3f3de2539796108bfc9a1be">More...</a><br /></td></tr>
<tr class="separator:a6579e86bc3f3de2539796108bfc9a1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a202929756c8c3b71de406e0b407db9c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a202929756c8c3b71de406e0b407db9c1">state_mng_get_current</a> ()</td></tr>
<tr class="memdesc:a202929756c8c3b71de406e0b407db9c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-safe getter of current state id.  <a href="#a202929756c8c3b71de406e0b407db9c1">More...</a><br /></td></tr>
<tr class="separator:a202929756c8c3b71de406e0b407db9c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac24510f4277596a75f453efad3fc672e"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac24510f4277596a75f453efad3fc672e">state_mng_get_current_subs</a> ()</td></tr>
<tr class="memdesc:ac24510f4277596a75f453efad3fc672e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-unsafe getter of current substate index. Call ONLY from within state_mng run loop.  <a href="#ac24510f4277596a75f453efad3fc672e">More...</a><br /></td></tr>
<tr class="separator:ac24510f4277596a75f453efad3fc672e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa0ff6d78ad2c2163a185367ea974ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a1aa0ff6d78ad2c2163a185367ea974ee">state_mng_get_switch_events</a> (struct <a class="el" href="struct_switch___event.html">Switch_Event</a> *buf, int len_buf)</td></tr>
<tr class="memdesc:a1aa0ff6d78ad2c2163a185367ea974ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread-unsafe getter of switch events Call ONLY if SM is certain not to switch state.  <a href="#a1aa0ff6d78ad2c2163a185367ea974ee">More...</a><br /></td></tr>
<tr class="separator:a1aa0ff6d78ad2c2163a185367ea974ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ea26f18b26cb847715f96d8ad844d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a33ea26f18b26cb847715f96d8ad844d4">state_purge_switch_events</a> ()</td></tr>
<tr class="memdesc:a33ea26f18b26cb847715f96d8ad844d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear logged switch events.  <a href="#a33ea26f18b26cb847715f96d8ad844d4">More...</a><br /></td></tr>
<tr class="separator:a33ea26f18b26cb847715f96d8ad844d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a7f7a02401d9dc854445091973da82"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#aa1a7f7a02401d9dc854445091973da82">state_mng_add_filter_state</a> (<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> state_id)</td></tr>
<tr class="memdesc:aa1a7f7a02401d9dc854445091973da82"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a state_id to the logging filter. Only added states are logged by events.  <a href="#aa1a7f7a02401d9dc854445091973da82">More...</a><br /></td></tr>
<tr class="separator:aa1a7f7a02401d9dc854445091973da82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03de15121808afb76055dcc4bcc39029"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a03de15121808afb76055dcc4bcc39029">state_mng_purge_filter_state</a> ()</td></tr>
<tr class="memdesc:a03de15121808afb76055dcc4bcc39029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear any set filter. Will log for every state after.  <a href="#a03de15121808afb76055dcc4bcc39029">More...</a><br /></td></tr>
<tr class="separator:a03de15121808afb76055dcc4bcc39029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6205ccf0b3ad43154513dee0855ad9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a3e6205ccf0b3ad43154513dee0855ad9">state_mng_abort</a> ()</td></tr>
<tr class="memdesc:a3e6205ccf0b3ad43154513dee0855ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send signal to abort running state machine.  <a href="#a3e6205ccf0b3ad43154513dee0855ad9">More...</a><br /></td></tr>
<tr class="separator:a3e6205ccf0b3ad43154513dee0855ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531022257e3c5b92029ce2243847d049"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a531022257e3c5b92029ce2243847d049">state_mng_reset</a> ()</td></tr>
<tr class="memdesc:a531022257e3c5b92029ce2243847d049"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deconstructor. Clean up all internal data structs.  <a href="#a531022257e3c5b92029ce2243847d049">More...</a><br /></td></tr>
<tr class="separator:a531022257e3c5b92029ce2243847d049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b1fec6a6e513b0d9348268da99d51d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a5b1fec6a6e513b0d9348268da99d51d8">state_mng_purge_registered_actions</a> (<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> state_id)</td></tr>
<tr class="memdesc:a5b1fec6a6e513b0d9348268da99d51d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear callback array and reqvalue arrays for a state.  <a href="#a5b1fec6a6e513b0d9348268da99d51d8">More...</a><br /></td></tr>
<tr class="separator:a5b1fec6a6e513b0d9348268da99d51d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c4469fd22c45a03b62e0c68261f65c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a68c4469fd22c45a03b62e0c68261f65c">state_mng_purge_registered_actions_all</a> ()</td></tr>
<tr class="memdesc:a68c4469fd22c45a03b62e0c68261f65c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear callback array and reqvalue arrays for all states.  <a href="#a68c4469fd22c45a03b62e0c68261f65c">More...</a><br /></td></tr>
<tr class="separator:a68c4469fd22c45a03b62e0c68261f65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a639d174691e15c20411092f5f548b7fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a639d174691e15c20411092f5f548b7fc">state_mng_start</a> ()</td></tr>
<tr class="memdesc:a639d174691e15c20411092f5f548b7fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send signal to start running state machine.  <a href="#a639d174691e15c20411092f5f548b7fc">More...</a><br /></td></tr>
<tr class="separator:a639d174691e15c20411092f5f548b7fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325177709e375347f313b77ad1a2bf56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a325177709e375347f313b77ad1a2bf56">state_mng_run</a> (void)</td></tr>
<tr class="memdesc:a325177709e375347f313b77ad1a2bf56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry function for state machine (FSM) loop. Should be invoked as thread; do NOT call.  <a href="#a325177709e375347f313b77ad1a2bf56">More...</a><br /></td></tr>
<tr class="separator:a325177709e375347f313b77ad1a2bf56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23138a410f4f70b62e02f4d58aa111b6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a23138a410f4f70b62e02f4d58aa111b6">state_mng_register_action</a> (<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> state_id, void(*func)(struct <a class="el" href="struct_action_arg.html">ActionArg</a> const *), <a class="el" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a> arr_vals[], int len)</td></tr>
<tr class="memdesc:a23138a410f4f70b62e02f4d58aa111b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register an action to be executed in a certain state. Specify values this action will request from irqt driver.  <a href="#a23138a410f4f70b62e02f4d58aa111b6">More...</a><br /></td></tr>
<tr class="separator:a23138a410f4f70b62e02f4d58aa111b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9929899641d509a7a471bca571fca5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#aa9929899641d509a7a471bca571fca5f">state_mng_print_evt_log</a> ()</td></tr>
<tr class="memdesc:aa9929899641d509a7a471bca571fca5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print logged switch, wait and performance mes. events.  <a href="#aa9929899641d509a7a471bca571fca5f">More...</a><br /></td></tr>
<tr class="separator:aa9929899641d509a7a471bca571fca5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99bec7ac7a0920d28e9c6886c55d7f92"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a99bec7ac7a0920d28e9c6886c55d7f92">state_mng_pull_perf_action</a> (int res_buf[], int idx_buf, int len)</td></tr>
<tr class="memdesc:a99bec7ac7a0920d28e9c6886c55d7f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Debug function, likely to be removed. Get and delete all log events for certain id_state.  <a href="#a99bec7ac7a0920d28e9c6886c55d7f92">More...</a><br /></td></tr>
<tr class="separator:a99bec7ac7a0920d28e9c6886c55d7f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd529eaa40008fae50455147470e981"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_state.html">State</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981">state_mng_id_2_state</a> (<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> id_name)</td></tr>
<tr class="memdesc:adfd529eaa40008fae50455147470e981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Non thread-safe getter of state struct. Call ONLY from state_mng run loop.  <a href="#adfd529eaa40008fae50455147470e981">More...</a><br /></td></tr>
<tr class="separator:adfd529eaa40008fae50455147470e981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea4cc94719670e69dcdce35b2ebbec7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#afea4cc94719670e69dcdce35b2ebbec7">state_mng_wait_vals_ready</a> (struct <a class="el" href="struct_state.html">State</a> *state)</td></tr>
<tr class="memdesc:afea4cc94719670e69dcdce35b2ebbec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait until all requested values for state become available. Timeout, if timing goal end of the state is hit.  <a href="#afea4cc94719670e69dcdce35b2ebbec7">More...</a><br /></td></tr>
<tr class="separator:afea4cc94719670e69dcdce35b2ebbec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a078801207176f9646b9008c64a66354d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a078801207176f9646b9008c64a66354d">state_mng_wait_fix</a> (struct <a class="el" href="struct_state.html">State</a> *state, u32_t t_fix_cyc, <a class="el" href="state__manager_8h.html#ac061587bd504b89ca120f3bb56e6f4e8">sm_wait_reason_t</a> reason)</td></tr>
<tr class="memdesc:a078801207176f9646b9008c64a66354d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for a fixed amount of time.  <a href="#a078801207176f9646b9008c64a66354d">More...</a><br /></td></tr>
<tr class="separator:a078801207176f9646b9008c64a66354d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b1648ed43b1f50b64c2618dc2f827e"><td class="memItemLeft" align="right" valign="top">u32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e">state_mng_get_time_delta</a> ()</td></tr>
<tr class="memdesc:a14b1648ed43b1f50b64c2618dc2f827e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calcs the time since start state.  <a href="#a14b1648ed43b1f50b64c2618dc2f827e">More...</a><br /></td></tr>
<tr class="separator:a14b1648ed43b1f50b64c2618dc2f827e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cf6cb1b0318ed9f9c1a1bbcbcf4db3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a42cf6cb1b0318ed9f9c1a1bbcbcf4db3">state_mng_get_timing_goal</a> (struct <a class="el" href="struct_state.html">State</a> *state, u8_t substate, int mode)</td></tr>
<tr class="memdesc:a42cf6cb1b0318ed9f9c1a1bbcbcf4db3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deprecated, use explicit _start, _end methods.  <a href="#a42cf6cb1b0318ed9f9c1a1bbcbcf4db3">More...</a><br /></td></tr>
<tr class="separator:a42cf6cb1b0318ed9f9c1a1bbcbcf4db3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b68abe1d98d63ac5f06e71df7f4ebe3"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a2b68abe1d98d63ac5f06e71df7f4ebe3">calc_time_goal</a> (struct <a class="el" href="struct_state.html">State</a> *state, int *t_left, int goal)</td></tr>
<tr class="memdesc:a2b68abe1d98d63ac5f06e71df7f4ebe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to be called from <a class="el" href="state__manager_8c.html#ac044c2e9da68e54b823e44ce65380ab2">check_time_goal_start()</a> or _end()  <a href="#a2b68abe1d98d63ac5f06e71df7f4ebe3">More...</a><br /></td></tr>
<tr class="separator:a2b68abe1d98d63ac5f06e71df7f4ebe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a24df4b049b3573393c3e4a719ebbefd3"><td class="memItemLeft" align="right" valign="top">static atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a24df4b049b3573393c3e4a719ebbefd3">flags</a></td></tr>
<tr class="separator:a24df4b049b3573393c3e4a719ebbefd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a294a5f8143b2099f097455b0387cf4bb"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_switch___event.html">Switch_Event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a294a5f8143b2099f097455b0387cf4bb">log_switch_evts</a> [<a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>]</td></tr>
<tr class="memdesc:a294a5f8143b2099f097455b0387cf4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">for logging  <a href="#a294a5f8143b2099f097455b0387cf4bb">More...</a><br /></td></tr>
<tr class="separator:a294a5f8143b2099f097455b0387cf4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3119d733d906cb6752b3b4c7960b3519"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_perf___event.html">Perf_Event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a3119d733d906cb6752b3b4c7960b3519">log_perf_evts</a> [<a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>]</td></tr>
<tr class="separator:a3119d733d906cb6752b3b4c7960b3519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ece7f2e0a01c1918b08bad208afc04"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_wait___event.html">Wait_Event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a16ece7f2e0a01c1918b08bad208afc04">log_wait_evts</a> [<a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>]</td></tr>
<tr class="separator:a16ece7f2e0a01c1918b08bad208afc04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc6bb01901f42a8260773aed8948623"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a1bc6bb01901f42a8260773aed8948623">log_filter</a> [] = {}</td></tr>
<tr class="separator:a1bc6bb01901f42a8260773aed8948623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c3f9ff327a0ce006ef0e4c32a777392"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a6c3f9ff327a0ce006ef0e4c32a777392">transition_table</a> [<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a>][<a class="el" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a741cae12c7b3223f6c27accc992eb486">_NUM_CYCLE_EVENTS</a>]</td></tr>
<tr class="memdesc:a6c3f9ff327a0ce006ef0e4c32a777392"><td class="mdescLeft">&#160;</td><td class="mdescRight">defines next state id_name on event  <a href="#a6c3f9ff327a0ce006ef0e4c32a777392">More...</a><br /></td></tr>
<tr class="separator:a6c3f9ff327a0ce006ef0e4c32a777392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50cd14f72b74ea7ed5ac3c1f6f3e2171"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_state.html">State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a50cd14f72b74ea7ed5ac3c1f6f3e2171">_states</a> [<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a>]</td></tr>
<tr class="memdesc:a50cd14f72b74ea7ed5ac3c1f6f3e2171"><td class="mdescLeft">&#160;</td><td class="mdescRight">lists all available states, must match cycle_state_id_t enum order  <a href="#a50cd14f72b74ea7ed5ac3c1f6f3e2171">More...</a><br /></td></tr>
<tr class="separator:a50cd14f72b74ea7ed5ac3c1f6f3e2171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f9d916638cc76be4a4a4fcfb2bb6eb"><td class="memItemLeft" align="right" valign="top">static void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac8f9d916638cc76be4a4a4fcfb2bb6eb">_cb_funcs</a> [<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a>][<a class="el" href="states_8h.html#a4caabc1e1bc029254d541e7185b76e81">STATES_CBS_PER_ACTION_MAX</a>])(struct <a class="el" href="struct_action_arg.html">ActionArg</a> const *)</td></tr>
<tr class="separator:ac8f9d916638cc76be4a4a4fcfb2bb6eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc89deb1961ae1f51a8812f5033029bc"><td class="memItemLeft" align="right" valign="top">static atomic_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#afc89deb1961ae1f51a8812f5033029bc">state_cur_id</a></td></tr>
<tr class="separator:afc89deb1961ae1f51a8812f5033029bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ab5941b2917358e146e3c752409d5b"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="struct_state.html">State</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a22ab5941b2917358e146e3c752409d5b">_state_cur</a></td></tr>
<tr class="separator:a22ab5941b2917358e146e3c752409d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c3f19ad52119933f1f56d521002004"><td class="memItemLeft" align="right" valign="top">static struct device *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ad2c3f19ad52119933f1f56d521002004">irqt_dev</a></td></tr>
<tr class="separator:ad2c3f19ad52119933f1f56d521002004"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28675e9f599e4310cf860d8cd396cea"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#ac28675e9f599e4310cf860d8cd396cea">init_done</a> = false</td></tr>
<tr class="separator:ac28675e9f599e4310cf860d8cd396cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088412b1bebf7d4730f72d41c47c4709"><td class="memItemLeft" align="right" valign="top">static u32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="state__manager_8c.html#a088412b1bebf7d4730f72d41c47c4709">timestamp_reset</a></td></tr>
<tr class="separator:a088412b1bebf7d4730f72d41c47c4709"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ac85ffac15e6947e9fb5acf752fba7207"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEN_ARRAY</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((sizeof(x)/sizeof(0[x])) / ((size_t)(!(sizeof(x) % sizeof(0[x])))))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_MNG_LOG_EVENTS_DEPTH&#160;&#160;&#160;CONFIG_APP_SM_LOG_DEPTH</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a78bde9177c2751d8bff732c620d8fe12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STATE_MNG_QUEUE_RX_DEPTH&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac5b2cb2d6ae6b5526953a00f765a23e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYS_LOG_DOMAIN&#160;&#160;&#160;&quot;StateManager&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7e98264d6527b989d179c54a96034c88"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SYS_LOG_LEVEL&#160;&#160;&#160;SYS_LOG_LEVEL_DEBUG</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55bacc328a04c39d3c20bc288f87c12cb7a1"></a>ABORT_LOOP&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55baa5639ff4eff3f959406116db9e020c44"></a>THREAD_RUNNING&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55baae8f7fe4c447de6809ddfcbf2b9254ac"></a>THREAD_START&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="a06fc87d81c62e9abb8790b6e5713c55ba8fc1dda1189452b89c9ca7e63fbb06cf"></a>_NUM_FLAGS&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ace9fdd2cfc6f7910283ab2fb0ecbcc80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _default_action_dispatcher </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fires all callbacks stored in internal array. </p>
<p>Use state_manager::register_action() and ::purge_registered_action() to access. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_ace9fdd2cfc6f7910283ab2fb0ecbcc80_cgraph.png" border="0" usemap="#state__manager_8c_ace9fdd2cfc6f7910283ab2fb0ecbcc80_cgraph" alt=""/></div>
<map name="state__manager_8c_ace9fdd2cfc6f7910283ab2fb0ecbcc80_cgraph" id="state__manager_8c_ace9fdd2cfc6f7910283ab2fb0ecbcc80_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="233,5,383,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a202929756c8c3b71de406e0b407db9c1" title="Thread&#45;safe getter of current state id. " alt="" coords="231,56,385,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2b68abe1d98d63ac5f06e71df7f4ebe3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void calc_time_goal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>t_left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>goal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to be called from <a class="el" href="state__manager_8c.html#ac044c2e9da68e54b823e44ce65380ab2">check_time_goal_start()</a> or _end() </p>
<p>Deprecated, use explicit _start, _end methods </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_left</td><td>if goal met: delta in cycles still to goal </td></tr>
    <tr><td class="paramname">mode</td><td>0: check start goal, 1:end goal </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0: goal in future, 1: goal missed, 2: goal exactly hit </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a2b68abe1d98d63ac5f06e71df7f4ebe3_cgraph.png" border="0" usemap="#state__manager_8c_a2b68abe1d98d63ac5f06e71df7f4ebe3_cgraph" alt=""/></div>
<map name="state__manager_8c_a2b68abe1d98d63ac5f06e71df7f4ebe3_cgraph" id="state__manager_8c_a2b68abe1d98d63ac5f06e71df7f4ebe3_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="163,5,303,47"/>
<area shape="rect" id="node3" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="351,13,449,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a01ec4af8d84ec8af6d062f60f7df11a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_time_goal_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>t_left</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_left</td><td>if goal met: delta in cycles still to goal </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a01ec4af8d84ec8af6d062f60f7df11a6_cgraph.png" border="0" usemap="#state__manager_8c_a01ec4af8d84ec8af6d062f60f7df11a6_cgraph" alt=""/></div>
<map name="state__manager_8c_a01ec4af8d84ec8af6d062f60f7df11a6_cgraph" id="state__manager_8c_a01ec4af8d84ec8af6d062f60f7df11a6_cgraph">
<area shape="rect" id="node2" href="states_8c.html#a361b2485c761518f8667f9f1a055e47c" title="states_get_timing_goal_end" alt="" coords="201,5,385,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a2b68abe1d98d63ac5f06e71df7f4ebe3" title="Helper to be called from check_time_goal_start() or _end() " alt="" coords="239,56,348,83"/>
<area shape="rect" id="node4" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="433,49,573,90"/>
<area shape="rect" id="node5" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="621,56,720,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac044c2e9da68e54b823e44ce65380ab2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void check_time_goal_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>t_left</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_left</td><td>if goal met: delta in cycles still to goal </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_ac044c2e9da68e54b823e44ce65380ab2_cgraph.png" border="0" usemap="#state__manager_8c_ac044c2e9da68e54b823e44ce65380ab2_cgraph" alt=""/></div>
<map name="state__manager_8c_ac044c2e9da68e54b823e44ce65380ab2_cgraph" id="state__manager_8c_ac044c2e9da68e54b823e44ce65380ab2_cgraph">
<area shape="rect" id="node2" href="states_8c.html#a929b4a51a89985cc96784e74126c2183" title="states_get_timing_goal\l_start" alt="" coords="207,5,363,47"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a2b68abe1d98d63ac5f06e71df7f4ebe3" title="Helper to be called from check_time_goal_start() or _end() " alt="" coords="230,71,339,98"/>
<area shape="rect" id="node4" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="411,64,551,105"/>
<area shape="rect" id="node5" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="599,71,697,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a783990c9c8f1bf1514a46e9f3acd01e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gather_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_m_event.html">SMEvent</a> *&#160;</td>
          <td class="paramname"><em>res_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read all events in driver queue and get the one of highest priority. </p>
<p>If in STATE_IDLE, wait here FOREVER for first drv event. In case of event with same priority, the one later received (higher index in queue) wins.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res_evt</td><td>Pointer to state manager event to write result. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a93ffbaf4a4a7a06501ade6b44ee7a0d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_time_goal_end </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t_left</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_left</td><td>result from check_time_goal() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3630c54ea4155b6d9038074a2c89750"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void handle_time_goal_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t_left</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Deprecated, use explicit _start, _end methods </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_left</td><td>result from check_time_goal() </td></tr>
    <tr><td class="paramname">mode</td><td>0: check start goal, 1:end goal </td></tr>
    <tr><td class="paramname">t_left</td><td>result from check_time_goal() </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0f0374dc26dbbc411fa368c513964d46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool handle_vals_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle if not all vals rady. </p>
<dl class="section return"><dt>Returns</dt><dd>handler decision to skip actions in run loop. </dd></dl>

</div>
</div>
<a class="anchor" id="a5c8a4f2ce282ae1c2036d80b2b331195"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_state_in_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td>
          <td class="paramname"><em>state_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search whether cycle_state_id is in array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irqt_val_id_t</td><td>*: array, assumed to be ordered, st. _NIL_VAL occurs only after any value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c0124042835015818d50d9130c2db76"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool is_val_in_array </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a> *&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Search whether val_id is in array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">irqt_val_id_t</td><td>*: array, assumed to be ordered, st. _NIL_VAL occurs only after any value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a265aa2f1ca809961d9c4376b5f129fd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">K_MSGQ_DEFINE </td>
          <td>(</td>
          <td class="paramtype">queue_rx_driver&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sizeof(struct <a class="el" href="struct_drv_event.html">DrvEvent</a>)&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="state__manager_8c.html#a78bde9177c2751d8bff732c620d8fe12">STATE_MNG_QUEUE_RX_DEPTH</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">4&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac147348fdfd1b971d35c92dc5fae1818"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void mes_perf </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Measure duration of actions, after waiting in state is done. </p>
<p>Waiting occurs if a handler of state does so in case of missed time goal or not available requested value</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>0: measurement start, 1: mes end </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_ac147348fdfd1b971d35c92dc5fae1818_cgraph.png" border="0" usemap="#state__manager_8c_ac147348fdfd1b971d35c92dc5fae1818_cgraph" alt=""/></div>
<map name="state__manager_8c_ac147348fdfd1b971d35c92dc5fae1818_cgraph" id="state__manager_8c_ac147348fdfd1b971d35c92dc5fae1818_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a5c8a4f2ce282ae1c2036d80b2b331195" title="Search whether cycle_state_id is in array. " alt="" coords="139,5,260,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="129,57,269,98"/>
<area shape="rect" id="node4" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="317,64,416,91"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e6205ccf0b3ad43154513dee0855ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send signal to abort running state machine. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a3e6205ccf0b3ad43154513dee0855ad9_cgraph.png" border="0" usemap="#state__manager_8c_a3e6205ccf0b3ad43154513dee0855ad9_cgraph" alt=""/></div>
<map name="state__manager_8c_a3e6205ccf0b3ad43154513dee0855ad9_cgraph" id="state__manager_8c_a3e6205ccf0b3ad43154513dee0855ad9_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="172,5,321,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1a7f7a02401d9dc854445091973da82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_add_filter_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td>
          <td class="paramname"><em>state_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a state_id to the logging filter. Only added states are logged by events. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on sucess, 1 if filter array full </dd></dl>

</div>
</div>
<a class="anchor" id="a219369c437a02377c0728e698a231dac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int state_mng_check_vals_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a219369c437a02377c0728e698a231dac_cgraph.png" border="0" usemap="#state__manager_8c_a219369c437a02377c0728e698a231dac_cgraph" alt=""/></div>
<map name="state__manager_8c_a219369c437a02377c0728e698a231dac_cgraph" id="state__manager_8c_a219369c437a02377c0728e698a231dac_cgraph">
<area shape="rect" id="node2" href="irqtestperipheral_8c.html#ae593bcc753fee4064e23b3e290e5f27d" title="Test whether a value was flagged ready to get_val() from driver memory. " alt="" coords="209,5,347,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaf434b7fdff6d2b471af6385d8572dd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_configure </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a>&#160;</td>
          <td class="paramname"><em>cust_states</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> *&#160;</td>
          <td class="paramname"><em>cust_tt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len_states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len_events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Either use default config of states and transition table or set custom one. </p>
<p>If you choose to use custom config, make sure that all your data is properly init! Call first <a class="el" href="state__manager_8c.html#aaf434b7fdff6d2b471af6385d8572dd4" title="Either use default config of states and transition table or set custom one. ">state_mng_configure()</a>, then <a class="el" href="state__manager_8c.html#a23138a410f4f70b62e02f4d58aa111b6" title="Register an action to be executed in a certain state. Specify values this action will request from ir...">state_mng_register_action()</a> and <a class="el" href="state__manager_8c.html#ad3cde1fa185470108d73b735b4125b92" title="Initialize. Mainly set up irqt driver. ">state_mng_init()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cust_states</td><td>Custom 1d state array. Set NULL to use auto. </td></tr>
    <tr><td class="paramname">cust_tt</td><td>Custom 2d transition table. Set NULL to use auto. </td></tr>
    <tr><td class="paramname">len_state</td><td>Number of elements in cust_states. </td></tr>
    <tr><td class="paramname">len_events</td><td>Number of configured events in cust_tt (second dimension) </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_aaf434b7fdff6d2b471af6385d8572dd4_cgraph.png" border="0" usemap="#state__manager_8c_aaf434b7fdff6d2b471af6385d8572dd4_cgraph" alt=""/></div>
<map name="state__manager_8c_aaf434b7fdff6d2b471af6385d8572dd4_cgraph" id="state__manager_8c_aaf434b7fdff6d2b471af6385d8572dd4_cgraph">
<area shape="rect" id="node2" href="states_8c.html#aa82cad408bf1ac59990bc6d57ff3c754" title=": Set up state array and transition table automatically. " alt="" coords="209,5,360,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#ace9fdd2cfc6f7910283ab2fb0ecbcc80" title="Fires all callbacks stored in internal array. " alt="" coords="196,56,373,83"/>
<area shape="rect" id="node6" href="states_8c.html#ab91bddfe86c489fa92acdb50882b265c" title=": Set up state array and transition table of state manager by customnly deployed arrays. " alt="" coords="201,107,369,133"/>
<area shape="rect" id="node4" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="423,31,574,57"/>
<area shape="rect" id="node5" href="state__manager_8c.html#a202929756c8c3b71de406e0b407db9c1" title="Thread&#45;safe getter of current state id. " alt="" coords="421,81,576,108"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a202929756c8c3b71de406e0b407db9c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> state_mng_get_current </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread-safe getter of current state id. </p>
<dl class="section return"><dt>Returns</dt><dd>id of current state. </dd></dl>

</div>
</div>
<a class="anchor" id="ac24510f4277596a75f453efad3fc672e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t state_mng_get_current_subs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread-unsafe getter of current substate index. Call ONLY from within state_mng run loop. </p>
<dl class="section return"><dt>Returns</dt><dd>id of current state. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_ac24510f4277596a75f453efad3fc672e_cgraph.png" border="0" usemap="#state__manager_8c_ac24510f4277596a75f453efad3fc672e_cgraph" alt=""/></div>
<map name="state__manager_8c_ac24510f4277596a75f453efad3fc672e_cgraph" id="state__manager_8c_ac24510f4277596a75f453efad3fc672e_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="246,5,397,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a202929756c8c3b71de406e0b407db9c1" title="Thread&#45;safe getter of current state id. " alt="" coords="244,56,399,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1aa0ff6d78ad2c2163a185367ea974ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_get_switch_events </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_switch___event.html">Switch_Event</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread-unsafe getter of switch events Call ONLY if SM is certain not to switch state. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success. 1: buf is too small, return data truncated. 2: events disabled </dd></dl>

</div>
</div>
<a class="anchor" id="a14b1648ed43b1f50b64c2618dc2f827e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32_t state_mng_get_time_delta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calcs the time since start state. </p>
<p>Warning: requires that delta to start state can never &gt; 2^32 cycles. </p><dl class="section return"><dt>Returns</dt><dd>delta in cpu cycles </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a14b1648ed43b1f50b64c2618dc2f827e_cgraph.png" border="0" usemap="#state__manager_8c_a14b1648ed43b1f50b64c2618dc2f827e_cgraph" alt=""/></div>
<map name="state__manager_8c_a14b1648ed43b1f50b64c2618dc2f827e_cgraph" id="state__manager_8c_a14b1648ed43b1f50b64c2618dc2f827e_cgraph">
<area shape="rect" id="node2" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="193,13,292,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a42cf6cb1b0318ed9f9c1a1bbcbcf4db3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_get_timing_goal </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8_t&#160;</td>
          <td class="paramname"><em>substate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deprecated, use explicit _start, _end methods. </p>

</div>
</div>
<a class="anchor" id="adfd529eaa40008fae50455147470e981"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_state.html">State</a>* state_mng_id_2_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td>
          <td class="paramname"><em>id_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Non thread-safe getter of state struct. Call ONLY from state_mng run loop. </p>

</div>
</div>
<a class="anchor" id="ad3cde1fa185470108d73b735b4125b92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_init </td>
          <td>(</td>
          <td class="paramtype">struct device *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize. Mainly set up irqt driver. </p>
<p>Call only after .configure(). Running is possible after init was done. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_ad3cde1fa185470108d73b735b4125b92_cgraph.png" border="0" usemap="#state__manager_8c_ad3cde1fa185470108d73b735b4125b92_cgraph" alt=""/></div>
<map name="state__manager_8c_ad3cde1fa185470108d73b735b4125b92_cgraph" id="state__manager_8c_ad3cde1fa185470108d73b735b4125b92_cgraph">
<area shape="rect" id="node2" href="irqtestperipheral_8c.html#a8b03f7c9aff5996a16845f0e2d1e6937" title="Provide a handle to a queue to receive msgs from the driver there. " alt="" coords="166,5,325,47"/>
<area shape="rect" id="node3" href="state__manager_8c.html#aab6938ef1c817b368bcee3fc953dba0f" title="Empty event log. " alt="" coords="160,71,331,98"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6579e86bc3f3de2539796108bfc9a1be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool state_mng_is_running </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Thread-safe getter whether state machine thread is running. </p>

</div>
</div>
<a class="anchor" id="aa9929899641d509a7a471bca571fca5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_print_evt_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print logged switch, wait and performance mes. events. </p>

</div>
</div>
<a class="anchor" id="a744449dc98e12eb620477cb63fd52b28"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_print_state_config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print info for all states configured to state_manager. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a744449dc98e12eb620477cb63fd52b28_cgraph.png" border="0" usemap="#state__manager_8c_a744449dc98e12eb620477cb63fd52b28_cgraph" alt=""/></div>
<map name="state__manager_8c_a744449dc98e12eb620477cb63fd52b28_cgraph" id="state__manager_8c_a744449dc98e12eb620477cb63fd52b28_cgraph">
<area shape="rect" id="node2" href="utils_8c.html#ad3d79b19f82a1184b79834cb05280f9f" title="snprint_arr_int" alt="" coords="243,5,347,32"/>
<area shape="rect" id="node3" href="utils_8c.html#a9c579c5181974bc7ee38e8a16ba66a63" title="snprint_arr_p" alt="" coords="246,56,343,83"/>
<area shape="rect" id="node4" href="state__manager_8c.html#a42cf6cb1b0318ed9f9c1a1bbcbcf4db3" title="Deprecated, use explicit _start, _end methods. " alt="" coords="204,107,385,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9d289bc2158c8795288230cebd7fe9a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_print_transition_table_config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print transition table as configured to state_manager. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a9d289bc2158c8795288230cebd7fe9a0_cgraph.png" border="0" usemap="#state__manager_8c_a9d289bc2158c8795288230cebd7fe9a0_cgraph" alt=""/></div>
<map name="state__manager_8c_a9d289bc2158c8795288230cebd7fe9a0_cgraph" id="state__manager_8c_a9d289bc2158c8795288230cebd7fe9a0_cgraph">
<area shape="rect" id="node2" href="utils_8c.html#ad3d79b19f82a1184b79834cb05280f9f" title="snprint_arr_int" alt="" coords="228,13,332,39"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a99bec7ac7a0920d28e9c6886c55d7f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_pull_perf_action </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>res_buf</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Debug function, likely to be removed. Get and delete all log events for certain id_state. </p>
<dl class="section return"><dt>Returns</dt><dd>idx of buffer last written </dd></dl>

</div>
</div>
<a class="anchor" id="aab6938ef1c817b368bcee3fc953dba0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void state_mng_purge_evt_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Empty event log. </p>

</div>
</div>
<a class="anchor" id="a03de15121808afb76055dcc4bcc39029"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_purge_filter_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear any set filter. Will log for every state after. </p>

</div>
</div>
<a class="anchor" id="a5b1fec6a6e513b0d9348268da99d51d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_purge_registered_actions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td>
          <td class="paramname"><em>state_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear callback array and reqvalue arrays for a state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state_id</td><td>id of state to clear </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, != 0 otherwise. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a5b1fec6a6e513b0d9348268da99d51d8_cgraph.png" border="0" usemap="#state__manager_8c_a5b1fec6a6e513b0d9348268da99d51d8_cgraph" alt=""/></div>
<map name="state__manager_8c_a5b1fec6a6e513b0d9348268da99d51d8_cgraph" id="state__manager_8c_a5b1fec6a6e513b0d9348268da99d51d8_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="241,5,390,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="240,56,391,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a68c4469fd22c45a03b62e0c68261f65c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_purge_registered_actions_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear callback array and reqvalue arrays for all states. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, != 0 otherwise. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a68c4469fd22c45a03b62e0c68261f65c_cgraph.png" border="0" usemap="#state__manager_8c_a68c4469fd22c45a03b62e0c68261f65c_cgraph" alt=""/></div>
<map name="state__manager_8c_a68c4469fd22c45a03b62e0c68261f65c_cgraph" id="state__manager_8c_a68c4469fd22c45a03b62e0c68261f65c_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a5b1fec6a6e513b0d9348268da99d51d8" title="Clear callback array and reqvalue arrays for a state. " alt="" coords="240,23,427,65"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="475,5,625,32"/>
<area shape="rect" id="node4" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="475,56,625,83"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23138a410f4f70b62e02f4d58aa111b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_register_action </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>&#160;</td>
          <td class="paramname"><em>state_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(struct <a class="el" href="struct_action_arg.html">ActionArg</a> const *)&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a>&#160;</td>
          <td class="paramname"><em>arr_vals</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register an action to be executed in a certain state. Specify values this action will request from irqt driver. </p>
<p>Currently, it is checked and warned if requested values haven't been flagged ready by the driver.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state_id</td><td>target state of action </td></tr>
    <tr><td class="paramname">func</td><td>callback function pointer of action </td></tr>
    <tr><td class="paramname">arr_vals</td><td>array of value ids to request from driver. </td></tr>
    <tr><td class="paramname">len</td><td>number of elements in arr_vals. </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a23138a410f4f70b62e02f4d58aa111b6_cgraph.png" border="0" usemap="#state__manager_8c_a23138a410f4f70b62e02f4d58aa111b6_cgraph" alt=""/></div>
<map name="state__manager_8c_a23138a410f4f70b62e02f4d58aa111b6_cgraph" id="state__manager_8c_a23138a410f4f70b62e02f4d58aa111b6_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="187,5,337,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a6c0124042835015818d50d9130c2db76" title="Search whether val_id is in array. " alt="" coords="207,56,317,83"/>
<area shape="rect" id="node4" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="187,107,337,133"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a531022257e3c5b92029ce2243847d049"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deconstructor. Clean up all internal data structs. </p>
<dl class="section return"><dt>Returns</dt><dd>0 on sucees, 1: failed; still running </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a531022257e3c5b92029ce2243847d049_cgraph.png" border="0" usemap="#state__manager_8c_a531022257e3c5b92029ce2243847d049_cgraph" alt=""/></div>
<map name="state__manager_8c_a531022257e3c5b92029ce2243847d049_cgraph" id="state__manager_8c_a531022257e3c5b92029ce2243847d049_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="642,19,791,46"/>
<area shape="rect" id="node3" href="irqtestperipheral_8c.html#ab47c9b38275ed5cb45931e907725dc06" title="Reset all objects related to receiving data from this driver. " alt="" coords="183,40,348,67"/>
<area shape="rect" id="node4" href="state__manager_8c.html#aab6938ef1c817b368bcee3fc953dba0f" title="Empty event log. " alt="" coords="180,91,351,118"/>
<area shape="rect" id="node5" href="state__manager_8c.html#a68c4469fd22c45a03b62e0c68261f65c" title="Clear callback array and reqvalue arrays for all states. " alt="" coords="172,142,359,184"/>
<area shape="rect" id="node6" href="state__manager_8c.html#a5b1fec6a6e513b0d9348268da99d51d8" title="Clear callback array and reqvalue arrays for a state. " alt="" coords="407,92,593,133"/>
<area shape="rect" id="node7" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="641,99,792,126"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a325177709e375347f313b77ad1a2bf56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entry function for state machine (FSM) loop. Should be invoked as thread; do NOT call. </p>
<p>Notes:</p><ul>
<li>FE310: Freedom/With1TinyCore sets btb = None -&gt; no dynamic branch prediction</li>
<li>For static optimization, from ISA: Assume that backward branches will be predicted taken, forward branches as not taken.</li>
<li>Attention: depending in gcc version likely() macros may not work as expected check assembly! (not properly working on riscv-gcc: 6.1.0 / 7.1.1)</li>
<li>Implementation detail: Waiting on start time goals and vals ready could be related to transitions in the FSM. Here, included in state to keep transition table small and allow for more flexibility (-&gt; handler for missed time goals) </li>
</ul>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a325177709e375347f313b77ad1a2bf56_cgraph.png" border="0" usemap="#state__manager_8c_a325177709e375347f313b77ad1a2bf56_cgraph" alt=""/></div>
<map name="state__manager_8c_a325177709e375347f313b77ad1a2bf56_cgraph" id="state__manager_8c_a325177709e375347f313b77ad1a2bf56_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="165,31,314,57"/>
<area shape="rect" id="node3" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="382,5,533,32"/>
<area shape="rect" id="node4" href="irqtestperipheral_8c.html#a9c8c75c9c4603bdccd5bdcf3038d3c49" title="Enable previously registered queue_rx for sending driver events to. " alt="" coords="163,394,316,435"/>
<area shape="rect" id="node6" href="irqtestperipheral_8c.html#ab47c9b38275ed5cb45931e907725dc06" title="Reset all objects related to receiving data from this driver. " alt="" coords="375,477,540,504"/>
<area shape="rect" id="node7" href="irqtestperipheral_8c.html#ace5f0827eb25f735e652ab09f4cbe3b2" title="Enables flags for indicating load of harware values to driver memory. " alt="" coords="163,511,316,553"/>
<area shape="rect" id="node8" href="state__manager_8c.html#ac044c2e9da68e54b823e44ce65380ab2" title="check_time_goal_start" alt="" coords="163,241,316,268"/>
<area shape="rect" id="node13" href="state__manager_8c.html#ad3630c54ea4155b6d9038074a2c89750" title="handle_time_goal_start" alt="" coords="161,577,317,604"/>
<area shape="rect" id="node14" href="state__manager_8c.html#a219369c437a02377c0728e698a231dac" title="state_mng_check_vals\l_ready" alt="" coords="161,629,317,670"/>
<area shape="rect" id="node16" href="state__manager_8c.html#a0f0374dc26dbbc411fa368c513964d46" title="Handle if not all vals rady. " alt="" coords="174,695,305,721"/>
<area shape="rect" id="node17" href="state__manager_8c.html#ac147348fdfd1b971d35c92dc5fae1818" title="Measure duration of actions, after waiting in state is done. " alt="" coords="201,343,277,369"/>
<area shape="rect" id="node19" href="irqtestperipheral_8c.html#a997c5939bc6f47d246540c69ff49733d" title="Clear all flags. " alt="" coords="168,746,311,787"/>
<area shape="rect" id="node20" href="state__manager_8c.html#a01ec4af8d84ec8af6d062f60f7df11a6" title="check_time_goal_end" alt="" coords="165,292,313,319"/>
<area shape="rect" id="node22" href="state__manager_8c.html#a93ffbaf4a4a7a06501ade6b44ee7a0d3" title="handle_time_goal_end" alt="" coords="164,812,315,839"/>
<area shape="rect" id="node23" href="state__manager_8c.html#a783990c9c8f1bf1514a46e9f3acd01e2" title="Read all events in driver queue and get the one of highest priority. " alt="" coords="187,863,291,889"/>
<area shape="rect" id="node24" href="state__manager_8c.html#a5652a05c3eb6723ac1867d712baec64d" title="switch_state" alt="" coords="191,132,287,159"/>
<area shape="rect" id="node5" href="irqtestperipheral_8c.html#a023df633a0cf154035fced51999c3f66" title="Test whether any flags for event sending are set. This excludes valflags, as they don&#39;t issue events..." alt="" coords="390,427,525,453"/>
<area shape="rect" id="node9" href="states_8c.html#a929b4a51a89985cc96784e74126c2183" title="states_get_timing_goal\l_start" alt="" coords="379,209,535,250"/>
<area shape="rect" id="node10" href="state__manager_8c.html#a2b68abe1d98d63ac5f06e71df7f4ebe3" title="Helper to be called from check_time_goal_start() or _end() " alt="" coords="403,275,512,301"/>
<area shape="rect" id="node11" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="597,213,737,254"/>
<area shape="rect" id="node12" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="785,111,884,137"/>
<area shape="rect" id="node15" href="irqtestperipheral_8c.html#ae593bcc753fee4064e23b3e290e5f27d" title="Test whether a value was flagged ready to get_val() from driver memory. " alt="" coords="389,629,526,670"/>
<area shape="rect" id="node18" href="state__manager_8c.html#a5c8a4f2ce282ae1c2036d80b2b331195" title="Search whether cycle_state_id is in array. " alt="" coords="397,157,518,184"/>
<area shape="rect" id="node21" href="states_8c.html#a361b2485c761518f8667f9f1a055e47c" title="states_get_timing_goal_end" alt="" coords="365,325,549,352"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a639d174691e15c20411092f5f548b7fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_mng_start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send signal to start running state machine. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a639d174691e15c20411092f5f548b7fc_cgraph.png" border="0" usemap="#state__manager_8c_a639d174691e15c20411092f5f548b7fc_cgraph" alt=""/></div>
<map name="state__manager_8c_a639d174691e15c20411092f5f548b7fc_cgraph" id="state__manager_8c_a639d174691e15c20411092f5f548b7fc_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a6579e86bc3f3de2539796108bfc9a1be" title="Thread&#45;safe getter whether state machine thread is running. " alt="" coords="169,5,319,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a078801207176f9646b9008c64a66354d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void state_mng_wait_fix </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32_t&#160;</td>
          <td class="paramname"><em>t_fix_cyc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="state__manager_8h.html#ac061587bd504b89ca120f3bb56e6f4e8">sm_wait_reason_t</a>&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for a fixed amount of time. </p>
<p>Also logs using waiting events if defined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t_fix_cyc</td><td>time to wait in cycles </td></tr>
    <tr><td class="paramname">reason</td><td>log the reason for waiting. Set 0 if no logging.</td></tr>
  </table>
  </dd>
</dl>
<p>Todo: currently busy waiting. Replace. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a078801207176f9646b9008c64a66354d_cgraph.png" border="0" usemap="#state__manager_8c_a078801207176f9646b9008c64a66354d_cgraph" alt=""/></div>
<map name="state__manager_8c_a078801207176f9646b9008c64a66354d_cgraph" id="state__manager_8c_a078801207176f9646b9008c64a66354d_cgraph">
<area shape="rect" id="node2" href="cycles_8c.html#a8bf6852b90b5cdddf4be52c673ddd590" title="Wait for at least t_cyc cpu cycles. " alt="" coords="189,5,308,32"/>
<area shape="rect" id="node4" href="state__manager_8c.html#a5c8a4f2ce282ae1c2036d80b2b331195" title="Search whether cycle_state_id is in array. " alt="" coords="188,56,309,83"/>
<area shape="rect" id="node3" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="357,5,456,32"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afea4cc94719670e69dcdce35b2ebbec7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool state_mng_wait_vals_ready </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait until all requested values for state become available. Timeout, if timing goal end of the state is hit. </p>
<p>Also logs using waiting events if defined.</p>
<dl class="section return"><dt>Returns</dt><dd>0: all good. 1: timeout occured</dd></dl>
<p>Todo: currently busy waiting. Replace. </p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_afea4cc94719670e69dcdce35b2ebbec7_cgraph.png" border="0" usemap="#state__manager_8c_afea4cc94719670e69dcdce35b2ebbec7_cgraph" alt=""/></div>
<map name="state__manager_8c_afea4cc94719670e69dcdce35b2ebbec7_cgraph" id="state__manager_8c_afea4cc94719670e69dcdce35b2ebbec7_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a219369c437a02377c0728e698a231dac" title="state_mng_check_vals\l_ready" alt="" coords="211,5,367,47"/>
<area shape="rect" id="node4" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="447,101,546,127"/>
<area shape="rect" id="node5" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="219,123,359,164"/>
<area shape="rect" id="node6" href="state__manager_8c.html#a42cf6cb1b0318ed9f9c1a1bbcbcf4db3" title="Deprecated, use explicit _start, _end methods. " alt="" coords="199,189,380,215"/>
<area shape="rect" id="node3" href="irqtestperipheral_8c.html#ae593bcc753fee4064e23b3e290e5f27d" title="Test whether a value was flagged ready to get_val() from driver memory. " alt="" coords="428,5,565,47"/>
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a33ea26f18b26cb847715f96d8ad844d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int state_purge_switch_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear logged switch events. </p>

</div>
</div>
<a class="anchor" id="a5652a05c3eb6723ac1867d712baec64d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="struct_state.html">State</a> * switch_state </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_state.html">State</a> *&#160;</td>
          <td class="paramname"><em>current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_m_event.html">SMEvent</a> *&#160;</td>
          <td class="paramname"><em>evt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="state__manager_8c_a5652a05c3eb6723ac1867d712baec64d_cgraph.png" border="0" usemap="#state__manager_8c_a5652a05c3eb6723ac1867d712baec64d_cgraph" alt=""/></div>
<map name="state__manager_8c_a5652a05c3eb6723ac1867d712baec64d_cgraph" id="state__manager_8c_a5652a05c3eb6723ac1867d712baec64d_cgraph">
<area shape="rect" id="node2" href="state__manager_8c.html#a5c8a4f2ce282ae1c2036d80b2b331195" title="Search whether cycle_state_id is in array. " alt="" coords="164,5,285,32"/>
<area shape="rect" id="node3" href="state__manager_8c.html#a14b1648ed43b1f50b64c2618dc2f827e" title="Calcs the time since start state. " alt="" coords="155,57,295,98"/>
<area shape="rect" id="node4" href="cycles_8c.html#a6e9f891bc6d1b4849bd701cca50ef426" title="read lower 32 bits of cycle csr register " alt="" coords="348,93,447,120"/>
<area shape="rect" id="node5" href="state__manager_8c.html#adfd529eaa40008fae50455147470e981" title="Non thread&#45;safe getter of state struct. Call ONLY from state_mng run loop. " alt="" coords="149,173,300,200"/>
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac8f9d916638cc76be4a4a4fcfb2bb6eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void(*  _cb_funcs[<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a>][<a class="el" href="states_8h.html#a4caabc1e1bc029254d541e7185b76e81">STATES_CBS_PER_ACTION_MAX</a>])(struct <a class="el" href="struct_action_arg.html">ActionArg</a> const *)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Internal array storing callbacks. Get passed a read-only (const) <a class="el" href="struct_action_arg.html" title="struct passed to any registered action as argument ">ActionArg</a> on call. rows: each state columns: different registered callbacks </p>

</div>
</div>
<a class="anchor" id="a22ab5941b2917358e146e3c752409d5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_state.html">State</a>* _state_cur</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a50cd14f72b74ea7ed5ac3c1f6f3e2171"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_state.html">State</a> _states[<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>lists all available states, must match cycle_state_id_t enum order </p>

</div>
</div>
<a class="anchor" id="a24df4b049b3573393c3e4a719ebbefd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t <a class="el" href="irqtestperipheral_8c.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac28675e9f599e4310cf860d8cd396cea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool init_done = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad2c3f19ad52119933f1f56d521002004"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct device* irqt_dev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1bc6bb01901f42a8260773aed8948623"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> log_filter[] = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3119d733d906cb6752b3b4c7960b3519"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_perf___event.html">Perf_Event</a> log_perf_evts[<a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a294a5f8143b2099f097455b0387cf4bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_switch___event.html">Switch_Event</a> log_switch_evts[<a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>for logging </p>

</div>
</div>
<a class="anchor" id="a16ece7f2e0a01c1918b08bad208afc04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_wait___event.html">Wait_Event</a> log_wait_evts[<a class="el" href="state__manager_8c.html#aa6bae9cdbe1acb3ad3cdf5f4b5ba80b7">STATE_MNG_LOG_EVENTS_DEPTH</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afc89deb1961ae1f51a8812f5033029bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">atomic_t state_cur_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a088412b1bebf7d4730f72d41c47c4709"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">u32_t timestamp_reset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6c3f9ff327a0ce006ef0e4c32a777392"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> transition_table[<a class="el" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a>][<a class="el" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a741cae12c7b3223f6c27accc992eb486">_NUM_CYCLE_EVENTS</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>defines next state id_name on event </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
