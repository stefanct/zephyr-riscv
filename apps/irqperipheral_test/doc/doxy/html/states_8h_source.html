<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>IrqTestPeripheral: /home/timo/Software/zephyr-riscv_dev/apps/irqperipheral_test/src/states.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IrqTestPeripheral
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">states.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="states_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifndef STATES_H</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#define STATES_H</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;zephyr.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="irqtestperipheral_8h.html">irqtestperipheral.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="states_8h.html#ac7f2a6758dc88e00b49c5d4152ef468e">   13</a></span>&#160;<span class="preprocessor">#define STATES_REQ_VALS_MAX         5    // might need adjustment if many vals</span></div><div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="states_8h.html#a4caabc1e1bc029254d541e7185b76e81">   14</a></span>&#160;<span class="preprocessor">#define STATES_CBS_PER_ACTION_MAX   5</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">//#define STATES_SUBSTATE_SER_DEPTH   3   </span></div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="states_8h.html#acff3c70dbdb08c38afa20f7a22766ee9">   16</a></span>&#160;<span class="preprocessor">#define STATES_DIS_SUBSTATES 0      // 1 to deactivate substates  </span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">   19</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span>{</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3ca35f1a6cab96ed4125ef85fa8a3284">   20</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3ca35f1a6cab96ed4125ef85fa8a3284">_NIL_CYCLE_STATE</a>,   <span class="comment">// must be first</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a67062d628f2116e8bad738c83c02f713">   21</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a67062d628f2116e8bad738c83c02f713">CYCLE_STATE_IDLE</a>,</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252ad97049c2f2d67bd40610b61c02dcc3be">   22</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252ad97049c2f2d67bd40610b61c02dcc3be">CYCLE_STATE_START</a>, <span class="comment">// aka preamble detect</span></div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252adfd3bd5af20e0859042ecdfd3e20e9ab">   23</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252adfd3bd5af20e0859042ecdfd3e20e9ab">CYCLE_STATE_DL_CONFIG</a>,</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a13c528c8260cc4257bf7323be2b33395">   24</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a13c528c8260cc4257bf7323be2b33395">CYCLE_STATE_DL</a>,</div><div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252afb34916cef7f1263f4e4e9af26a6b54c">   25</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252afb34916cef7f1263f4e4e9af26a6b54c">CYCLE_STATE_UL_CONFIG</a>,</div><div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a6f8c23f0784c07e151310ca8a83b325a">   26</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a6f8c23f0784c07e151310ca8a83b325a">CYCLE_STATE_UL</a>,</div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252aa4b742f8bac54e97f9332bdfa2dc9b35">   27</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252aa4b742f8bac54e97f9332bdfa2dc9b35">CYCLE_STATE_RL_CONFIG</a>,</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a62fdeb263f57db221c35ab1e4f5f341b">   28</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a62fdeb263f57db221c35ab1e4f5f341b">CYCLE_STATE_RL</a>,</div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252af4b0570a7974917db137e591c1876bf7">   29</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252af4b0570a7974917db137e591c1876bf7">CYCLE_STATE_END</a>,</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">   30</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a> <span class="comment">// must be last</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}<a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438">   35</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span>{</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a36ee0122f1ab3bf0742b489a3604d7b1">   36</a></span>&#160;    <a class="code" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a36ee0122f1ab3bf0742b489a3604d7b1">_CYCLE_DEFAULT_EVT</a>, <span class="comment">// must be first -&gt; call next state as define by element 0 of transition table</span></div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438ae0078aa69816dfbf77cb6d784a0f755a">   37</a></span>&#160;    <a class="code" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438ae0078aa69816dfbf77cb6d784a0f755a">CYCLE_EVENT_RESET_IRQ</a>,</div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a741cae12c7b3223f6c27accc992eb486">   38</a></span>&#160;    <a class="code" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a741cae12c7b3223f6c27accc992eb486">_NUM_CYCLE_EVENTS</a> <span class="comment">// must be last</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}<a class="code" href="states_8h.html#a1956f5c4955f21ca67d43209bc162438">cycle_event_id_t</a>;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="struct_state.html">   43</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_state.html">State</a>{</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="struct_state.html#abb59b67712b25f52806b3a75d5ced8e1">   44</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> <a class="code" href="struct_state.html#abb59b67712b25f52806b3a75d5ced8e1">id_name</a>;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_state.html#af9d8ee1d5b2527603692e4e16a510dfc">   45</a></span>&#160;    <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> <a class="code" href="struct_state.html#af9d8ee1d5b2527603692e4e16a510dfc">default_next_state</a>;</div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="struct_state.html#a460c2961861ad0bfe6b175e2d310fa5a">   46</a></span>&#160;    u32_t <a class="code" href="struct_state.html#a460c2961861ad0bfe6b175e2d310fa5a">timing_goal_start</a>; <span class="comment">// in cpu cycles</span></div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_state.html#af1c6f6dee4c21d85ddf7da3864d1cbee">   47</a></span>&#160;    u32_t <a class="code" href="struct_state.html#af1c6f6dee4c21d85ddf7da3864d1cbee">timing_goal_end</a>;</div><div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="struct_state.html#ab6d93aa56200181dd2b06e3eda4bc090">   48</a></span>&#160;    <a class="code" href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a> <a class="code" href="struct_state.html#ab6d93aa56200181dd2b06e3eda4bc090">val_ids_req</a>[<a class="code" href="states_8h.html#ac7f2a6758dc88e00b49c5d4152ef468e">STATES_REQ_VALS_MAX</a>];  <span class="comment">// holds the irqt vals requested by state</span></div><div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="struct_state.html#a55d5000db1bebc1ee6f6d6d5b3bb6673">   49</a></span>&#160;    void (*<a class="code" href="struct_state.html#a55d5000db1bebc1ee6f6d6d5b3bb6673">action</a>)(<a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a>);  <span class="comment">// method called when switched to this state , note that usually _default_action()</span></div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_state.html#a85025dd68c4035546894c6b14542e528">   50</a></span>&#160;    void (*<a class="code" href="struct_state.html#a85025dd68c4035546894c6b14542e528">handle_t_goal_start</a>)(<span class="keyword">struct </span><a class="code" href="struct_state.html">State</a> *, int);  <span class="comment">// method called when entering state, to act when time goal hit / missed    </span></div><div class="line"><a name="l00051"></a><span class="lineno"><a class="line" href="struct_state.html#ab347ebabf77bbde522554a8d663ec4a5">   51</a></span>&#160;    void (*<a class="code" href="struct_state.html#ab347ebabf77bbde522554a8d663ec4a5">handle_t_goal_end</a>)(<span class="keyword">struct </span><a class="code" href="struct_state.html">State</a> *, int);    <span class="comment">// method called when leaving state, to act when time goal hit / missed</span></div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_state.html#a840b9de3ab0a84eed21af071a716348b">   52</a></span>&#160;    bool (*<a class="code" href="struct_state.html#a840b9de3ab0a84eed21af071a716348b">handle_val_rfail</a>)(<span class="keyword">struct </span><a class="code" href="struct_state.html">State</a> *);    <span class="comment">// called when check_vals_ready fails at beginning of state, returns true if actions should be skipped</span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// serial substates logic: automatically invoked as next state</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// until all substates have occured (eg. for multiple user time slots)</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment">// they &quot;inherit&quot; all states var but modify timing goals</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment">// affects state_manager::switch_state() and ::check_time_goal()</span></div><div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="struct_state.html#a06b41367cc51f722ce294c92dc341e93">   58</a></span>&#160;    u8_t <a class="code" href="struct_state.html#a06b41367cc51f722ce294c92dc341e93">cur_subs_idx</a>;</div><div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="struct_state.html#a73f7b81a54eb23206152bb815a0de136">   59</a></span>&#160;    u8_t <a class="code" href="struct_state.html#a73f7b81a54eb23206152bb815a0de136">max_subs_idx</a>;</div><div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="struct_state.html#ad775f6c08e398dddae5d7fbcd8487b6d">   60</a></span>&#160;    u32_t <a class="code" href="struct_state.html#ad775f6c08e398dddae5d7fbcd8487b6d">timing_summand</a>;  <span class="comment">// added to timing_goals additionaly to duration of state</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;};</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="struct_action_arg.html">   64</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_action_arg.html">ActionArg</a>{</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="struct_action_arg.html#a2f7d37145be4a5d1c22f700f31ae2c27">   65</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_state.html">State</a> * <a class="code" href="struct_action_arg.html#a2f7d37145be4a5d1c22f700f31ae2c27">state_cur</a>;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keywordtype">void</span> <a class="code" href="states_8h.html#aa82cad408bf1ac59990bc6d57ff3c754">states_configure_auto</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> * states, <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> * <a class="code" href="state__manager_8c.html#a6c3f9ff327a0ce006ef0e4c32a777392">transition_table</a>, <span class="keywordtype">void</span> * <a class="code" href="struct_state.html#a55d5000db1bebc1ee6f6d6d5b3bb6673">action</a>);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="keywordtype">void</span> <a class="code" href="states_8h.html#ab91bddfe86c489fa92acdb50882b265c">states_configure_custom</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> * states, <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> * <a class="code" href="state__manager_8c.html#a6c3f9ff327a0ce006ef0e4c32a777392">transition_table</a>, <span class="keywordtype">void</span> * <a class="code" href="struct_state.html#a55d5000db1bebc1ee6f6d6d5b3bb6673">action</a>, \</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                <span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> cust_states[], <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> * cust_tt, <span class="keywordtype">int</span> len_states, <span class="keywordtype">int</span> len_events);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keywordtype">void</span> <a class="code" href="states_8h.html#a01408135407e1ba1e5a0c0d1fa1aa690">states_configure_substates</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> * state, u8_t <a class="code" href="sm2_8c.html#af2fd083d05fffd13451f34aba145c165">num_substates</a>, u8_t <a class="code" href="struct_state.html#ad775f6c08e398dddae5d7fbcd8487b6d">timing_summand</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="keyword">struct </span><a class="code" href="struct_state.html">State</a> * <a class="code" href="states_8h.html#a80390a0004562d1df0d2fcc943272c01">states_get</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> state_arr[], <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> <span class="keywordtype">id</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keywordtype">int</span> <a class="code" href="states_8h.html#a929b4a51a89985cc96784e74126c2183">states_get_timing_goal_start</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> * state, u8_t substate);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keywordtype">int</span> <a class="code" href="states_8h.html#a361b2485c761518f8667f9f1a055e47c">states_get_timing_goal_end</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> * state, u8_t substate);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keywordtype">int</span> <a class="code" href="states_8h.html#aea1268d1f1934c140cfff0e7316e963b">states_set_handler_timing_goal_start</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> state_arr[], <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> <span class="keywordtype">id</span>, <span class="keywordtype">void</span>(*handler)(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> *, <span class="keywordtype">int</span>));</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">int</span> <a class="code" href="states_8h.html#ae5df354b700722ddcd0e02f20c75fe7f">states_set_handler_timing_goal_end</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> state_arr[], <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> <span class="keywordtype">id</span>, <span class="keywordtype">void</span>(*handler)(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> *, <span class="keywordtype">int</span>));</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keywordtype">int</span> <a class="code" href="states_8h.html#a21840ee4cc20b4ebdef96b9946340736">states_set_handler_reqval</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> state_arr[], <a class="code" href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a> <span class="keywordtype">id</span>, <span class="keywordtype">bool</span>(*handler)(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> *));</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="keywordtype">void</span> <a class="code" href="states_8h.html#afa641d1990cd8152c94a2c44a50635e1">states_print_state</a>(<span class="keyword">struct</span> <a class="code" href="struct_state.html">State</a> * state);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="irqtestperipheral_8h_html_a3485d29696b63704b7a6454519c3d0c5"><div class="ttname"><a href="irqtestperipheral_8h.html#a3485d29696b63704b7a6454519c3d0c5">irqt_val_id_t</a></div><div class="ttdeci">irqt_val_id_t</div><div class="ttdef"><b>Definition:</b> irqtestperipheral.h:21</div></div>
<div class="ttc" id="struct_state_html_a06b41367cc51f722ce294c92dc341e93"><div class="ttname"><a href="struct_state.html#a06b41367cc51f722ce294c92dc341e93">State::cur_subs_idx</a></div><div class="ttdeci">u8_t cur_subs_idx</div><div class="ttdef"><b>Definition:</b> states.h:58</div></div>
<div class="ttc" id="states_8h_html_afa641d1990cd8152c94a2c44a50635e1"><div class="ttname"><a href="states_8h.html#afa641d1990cd8152c94a2c44a50635e1">states_print_state</a></div><div class="ttdeci">void states_print_state(struct State *state)</div><div class="ttdef"><b>Definition:</b> states.c:147</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252a67062d628f2116e8bad738c83c02f713"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a67062d628f2116e8bad738c83c02f713">CYCLE_STATE_IDLE</a></div><div class="ttdef"><b>Definition:</b> states.h:21</div></div>
<div class="ttc" id="states_8h_html_a80390a0004562d1df0d2fcc943272c01"><div class="ttname"><a href="states_8h.html#a80390a0004562d1df0d2fcc943272c01">states_get</a></div><div class="ttdeci">struct State * states_get(struct State state_arr[], cycle_state_id_t id)</div><div class="ttdef"><b>Definition:</b> states.c:214</div></div>
<div class="ttc" id="struct_state_html_a85025dd68c4035546894c6b14542e528"><div class="ttname"><a href="struct_state.html#a85025dd68c4035546894c6b14542e528">State::handle_t_goal_start</a></div><div class="ttdeci">void(* handle_t_goal_start)(struct State *, int)</div><div class="ttdef"><b>Definition:</b> states.h:50</div></div>
<div class="ttc" id="struct_action_arg_html"><div class="ttname"><a href="struct_action_arg.html">ActionArg</a></div><div class="ttdoc">struct passed to any registered action as argument </div><div class="ttdef"><b>Definition:</b> states.h:64</div></div>
<div class="ttc" id="states_8h_html_a1956f5c4955f21ca67d43209bc162438"><div class="ttname"><a href="states_8h.html#a1956f5c4955f21ca67d43209bc162438">cycle_event_id_t</a></div><div class="ttdeci">cycle_event_id_t</div><div class="ttdoc">declares all possible events (state_manager.c::SMEvent) causing transitions </div><div class="ttdef"><b>Definition:</b> states.h:35</div></div>
<div class="ttc" id="struct_state_html_ad775f6c08e398dddae5d7fbcd8487b6d"><div class="ttname"><a href="struct_state.html#ad775f6c08e398dddae5d7fbcd8487b6d">State::timing_summand</a></div><div class="ttdeci">u32_t timing_summand</div><div class="ttdef"><b>Definition:</b> states.h:60</div></div>
<div class="ttc" id="states_8h_html_ae5df354b700722ddcd0e02f20c75fe7f"><div class="ttname"><a href="states_8h.html#ae5df354b700722ddcd0e02f20c75fe7f">states_set_handler_timing_goal_end</a></div><div class="ttdeci">int states_set_handler_timing_goal_end(struct State state_arr[], cycle_state_id_t id, void(*handler)(struct State *, int))</div><div class="ttdef"><b>Definition:</b> states.c:196</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252a62fdeb263f57db221c35ab1e4f5f341b"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a62fdeb263f57db221c35ab1e4f5f341b">CYCLE_STATE_RL</a></div><div class="ttdef"><b>Definition:</b> states.h:28</div></div>
<div class="ttc" id="struct_state_html_a55d5000db1bebc1ee6f6d6d5b3bb6673"><div class="ttname"><a href="struct_state.html#a55d5000db1bebc1ee6f6d6d5b3bb6673">State::action</a></div><div class="ttdeci">void(* action)(cycle_state_id_t)</div><div class="ttdef"><b>Definition:</b> states.h:49</div></div>
<div class="ttc" id="states_8h_html_ab91bddfe86c489fa92acdb50882b265c"><div class="ttname"><a href="states_8h.html#ab91bddfe86c489fa92acdb50882b265c">states_configure_custom</a></div><div class="ttdeci">void states_configure_custom(struct State *states, cycle_state_id_t *transition_table, void *action, struct State cust_states[], cycle_state_id_t *cust_tt, int len_states, int len_events)</div><div class="ttdoc">: Set up state array and transition table of state manager by customnly deployed arrays. </div><div class="ttdef"><b>Definition:</b> states.c:93</div></div>
<div class="ttc" id="struct_state_html_ab6d93aa56200181dd2b06e3eda4bc090"><div class="ttname"><a href="struct_state.html#ab6d93aa56200181dd2b06e3eda4bc090">State::val_ids_req</a></div><div class="ttdeci">irqt_val_id_t val_ids_req[STATES_REQ_VALS_MAX]</div><div class="ttdef"><b>Definition:</b> states.h:48</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252ad97049c2f2d67bd40610b61c02dcc3be"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252ad97049c2f2d67bd40610b61c02dcc3be">CYCLE_STATE_START</a></div><div class="ttdef"><b>Definition:</b> states.h:22</div></div>
<div class="ttc" id="struct_state_html_abb59b67712b25f52806b3a75d5ced8e1"><div class="ttname"><a href="struct_state.html#abb59b67712b25f52806b3a75d5ced8e1">State::id_name</a></div><div class="ttdeci">cycle_state_id_t id_name</div><div class="ttdef"><b>Definition:</b> states.h:44</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252a13c528c8260cc4257bf7323be2b33395"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a13c528c8260cc4257bf7323be2b33395">CYCLE_STATE_DL</a></div><div class="ttdef"><b>Definition:</b> states.h:24</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252aa4b742f8bac54e97f9332bdfa2dc9b35"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252aa4b742f8bac54e97f9332bdfa2dc9b35">CYCLE_STATE_RL_CONFIG</a></div><div class="ttdef"><b>Definition:</b> states.h:27</div></div>
<div class="ttc" id="state__manager_8c_html_a6c3f9ff327a0ce006ef0e4c32a777392"><div class="ttname"><a href="state__manager_8c.html#a6c3f9ff327a0ce006ef0e4c32a777392">transition_table</a></div><div class="ttdeci">static cycle_state_id_t transition_table[_NUM_CYCLE_STATES][_NUM_CYCLE_EVENTS]</div><div class="ttdoc">defines next state id_name on event </div><div class="ttdef"><b>Definition:</b> state_manager.c:51</div></div>
<div class="ttc" id="states_8h_html_a1956f5c4955f21ca67d43209bc162438a741cae12c7b3223f6c27accc992eb486"><div class="ttname"><a href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a741cae12c7b3223f6c27accc992eb486">_NUM_CYCLE_EVENTS</a></div><div class="ttdef"><b>Definition:</b> states.h:38</div></div>
<div class="ttc" id="states_8h_html_a361b2485c761518f8667f9f1a055e47c"><div class="ttname"><a href="states_8h.html#a361b2485c761518f8667f9f1a055e47c">states_get_timing_goal_end</a></div><div class="ttdeci">int states_get_timing_goal_end(struct State *state, u8_t substate)</div><div class="ttdef"><b>Definition:</b> states.c:173</div></div>
<div class="ttc" id="states_8h_html_a1956f5c4955f21ca67d43209bc162438ae0078aa69816dfbf77cb6d784a0f755a"><div class="ttname"><a href="states_8h.html#a1956f5c4955f21ca67d43209bc162438ae0078aa69816dfbf77cb6d784a0f755a">CYCLE_EVENT_RESET_IRQ</a></div><div class="ttdef"><b>Definition:</b> states.h:37</div></div>
<div class="ttc" id="states_8h_html_a1956f5c4955f21ca67d43209bc162438a36ee0122f1ab3bf0742b489a3604d7b1"><div class="ttname"><a href="states_8h.html#a1956f5c4955f21ca67d43209bc162438a36ee0122f1ab3bf0742b489a3604d7b1">_CYCLE_DEFAULT_EVT</a></div><div class="ttdef"><b>Definition:</b> states.h:36</div></div>
<div class="ttc" id="states_8h_html_a929b4a51a89985cc96784e74126c2183"><div class="ttname"><a href="states_8h.html#a929b4a51a89985cc96784e74126c2183">states_get_timing_goal_start</a></div><div class="ttdeci">int states_get_timing_goal_start(struct State *state, u8_t substate)</div><div class="ttdef"><b>Definition:</b> states.c:158</div></div>
<div class="ttc" id="struct_state_html_a460c2961861ad0bfe6b175e2d310fa5a"><div class="ttname"><a href="struct_state.html#a460c2961861ad0bfe6b175e2d310fa5a">State::timing_goal_start</a></div><div class="ttdeci">u32_t timing_goal_start</div><div class="ttdef"><b>Definition:</b> states.h:46</div></div>
<div class="ttc" id="struct_state_html_a840b9de3ab0a84eed21af071a716348b"><div class="ttname"><a href="struct_state.html#a840b9de3ab0a84eed21af071a716348b">State::handle_val_rfail</a></div><div class="ttdeci">bool(* handle_val_rfail)(struct State *)</div><div class="ttdef"><b>Definition:</b> states.h:52</div></div>
<div class="ttc" id="states_8h_html_aa82cad408bf1ac59990bc6d57ff3c754"><div class="ttname"><a href="states_8h.html#aa82cad408bf1ac59990bc6d57ff3c754">states_configure_auto</a></div><div class="ttdeci">void states_configure_auto(struct State *states, cycle_state_id_t *transition_table, void *action)</div><div class="ttdoc">: Set up state array and transition table automatically. </div><div class="ttdef"><b>Definition:</b> states.c:38</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252a3ca35f1a6cab96ed4125ef85fa8a3284"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3ca35f1a6cab96ed4125ef85fa8a3284">_NIL_CYCLE_STATE</a></div><div class="ttdef"><b>Definition:</b> states.h:20</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252afb34916cef7f1263f4e4e9af26a6b54c"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252afb34916cef7f1263f4e4e9af26a6b54c">CYCLE_STATE_UL_CONFIG</a></div><div class="ttdef"><b>Definition:</b> states.h:25</div></div>
<div class="ttc" id="struct_state_html"><div class="ttname"><a href="struct_state.html">State</a></div><div class="ttdef"><b>Definition:</b> states.h:43</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252">cycle_state_id_t</a></div><div class="ttdeci">cycle_state_id_t</div><div class="ttdoc">declares all possible states (.id_names) of a state manager </div><div class="ttdef"><b>Definition:</b> states.h:19</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252adfd3bd5af20e0859042ecdfd3e20e9ab"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252adfd3bd5af20e0859042ecdfd3e20e9ab">CYCLE_STATE_DL_CONFIG</a></div><div class="ttdef"><b>Definition:</b> states.h:23</div></div>
<div class="ttc" id="states_8h_html_a21840ee4cc20b4ebdef96b9946340736"><div class="ttname"><a href="states_8h.html#a21840ee4cc20b4ebdef96b9946340736">states_set_handler_reqval</a></div><div class="ttdeci">int states_set_handler_reqval(struct State state_arr[], cycle_state_id_t id, bool(*handler)(struct State *))</div><div class="ttdef"><b>Definition:</b> states.c:205</div></div>
<div class="ttc" id="struct_state_html_a73f7b81a54eb23206152bb815a0de136"><div class="ttname"><a href="struct_state.html#a73f7b81a54eb23206152bb815a0de136">State::max_subs_idx</a></div><div class="ttdeci">u8_t max_subs_idx</div><div class="ttdef"><b>Definition:</b> states.h:59</div></div>
<div class="ttc" id="struct_state_html_af9d8ee1d5b2527603692e4e16a510dfc"><div class="ttname"><a href="struct_state.html#af9d8ee1d5b2527603692e4e16a510dfc">State::default_next_state</a></div><div class="ttdeci">cycle_state_id_t default_next_state</div><div class="ttdef"><b>Definition:</b> states.h:45</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a3dec1b1ee677da041bba8ecf1c1d5937">_NUM_CYCLE_STATES</a></div><div class="ttdef"><b>Definition:</b> states.h:30</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252af4b0570a7974917db137e591c1876bf7"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252af4b0570a7974917db137e591c1876bf7">CYCLE_STATE_END</a></div><div class="ttdef"><b>Definition:</b> states.h:29</div></div>
<div class="ttc" id="states_8h_html_aea1268d1f1934c140cfff0e7316e963b"><div class="ttname"><a href="states_8h.html#aea1268d1f1934c140cfff0e7316e963b">states_set_handler_timing_goal_start</a></div><div class="ttdeci">int states_set_handler_timing_goal_start(struct State state_arr[], cycle_state_id_t id, void(*handler)(struct State *, int))</div><div class="ttdef"><b>Definition:</b> states.c:187</div></div>
<div class="ttc" id="struct_state_html_ab347ebabf77bbde522554a8d663ec4a5"><div class="ttname"><a href="struct_state.html#ab347ebabf77bbde522554a8d663ec4a5">State::handle_t_goal_end</a></div><div class="ttdeci">void(* handle_t_goal_end)(struct State *, int)</div><div class="ttdef"><b>Definition:</b> states.h:51</div></div>
<div class="ttc" id="states_8h_html_ac7f2a6758dc88e00b49c5d4152ef468e"><div class="ttname"><a href="states_8h.html#ac7f2a6758dc88e00b49c5d4152ef468e">STATES_REQ_VALS_MAX</a></div><div class="ttdeci">#define STATES_REQ_VALS_MAX</div><div class="ttdef"><b>Definition:</b> states.h:13</div></div>
<div class="ttc" id="struct_action_arg_html_a2f7d37145be4a5d1c22f700f31ae2c27"><div class="ttname"><a href="struct_action_arg.html#a2f7d37145be4a5d1c22f700f31ae2c27">ActionArg::state_cur</a></div><div class="ttdeci">struct State * state_cur</div><div class="ttdef"><b>Definition:</b> states.h:65</div></div>
<div class="ttc" id="states_8h_html_a9e0ef0bc98a491d55216d9485e562252a6f8c23f0784c07e151310ca8a83b325a"><div class="ttname"><a href="states_8h.html#a9e0ef0bc98a491d55216d9485e562252a6f8c23f0784c07e151310ca8a83b325a">CYCLE_STATE_UL</a></div><div class="ttdef"><b>Definition:</b> states.h:26</div></div>
<div class="ttc" id="sm2_8c_html_af2fd083d05fffd13451f34aba145c165"><div class="ttname"><a href="sm2_8c.html#af2fd083d05fffd13451f34aba145c165">num_substates</a></div><div class="ttdeci">static int num_substates</div><div class="ttdef"><b>Definition:</b> sm2.c:14</div></div>
<div class="ttc" id="states_8h_html_a01408135407e1ba1e5a0c0d1fa1aa690"><div class="ttname"><a href="states_8h.html#a01408135407e1ba1e5a0c0d1fa1aa690">states_configure_substates</a></div><div class="ttdeci">void states_configure_substates(struct State *state, u8_t num_substates, u8_t timing_summand)</div><div class="ttdoc">: Configure given state with serial substates. todo: make safe while sm running </div><div class="ttdef"><b>Definition:</b> states.c:137</div></div>
<div class="ttc" id="irqtestperipheral_8h_html"><div class="ttname"><a href="irqtestperipheral_8h.html">irqtestperipheral.h</a></div><div class="ttdoc">low-level driver functions to interact with hardware </div></div>
<div class="ttc" id="struct_state_html_af1c6f6dee4c21d85ddf7da3864d1cbee"><div class="ttname"><a href="struct_state.html#af1c6f6dee4c21d85ddf7da3864d1cbee">State::timing_goal_end</a></div><div class="ttdeci">u32_t timing_goal_end</div><div class="ttdef"><b>Definition:</b> states.h:47</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
